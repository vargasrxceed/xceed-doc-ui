"use strict";(self.webpackChunkxceed_doc_ui=self.webpackChunkxceed_doc_ui||[]).push([[2560],{138:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var n=a(4848),r=a(8453),i=a(1470),o=a(9365);const l={},d="Editing Data",s={id:"datagrid/manipulating-data/editing-validating-data/01",title:"Editing Data",description:"The content of each cell in a grid\u2014assuming that they are not read-only\u2014can be edited programmatically or at runtime by the end user.",source:"@site/docs/datagrid/manipulating-data/editing-validating-data/01.md",sourceDirName:"datagrid/manipulating-data/editing-validating-data",slug:"/datagrid/manipulating-data/editing-validating-data/01",permalink:"/xceed-doc-ui/docs/datagrid/manipulating-data/editing-validating-data/01",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Removing Data",permalink:"/xceed-doc-ui/docs/datagrid/manipulating-data/providing-inserting-removing/04"},next:{title:"DataCollectionView Edit Events",permalink:"/xceed-doc-ui/docs/datagrid/manipulating-data/editing-validating-data/02"}},c={},u=[{value:"Editing through the DataGridCollectionView",id:"editing-through-the-datagridcollectionview",level:2},{value:"Validation",id:"validation",level:2},{value:"Examples",id:"examples",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"editing-data",children:"Editing Data"})}),"\n",(0,n.jsx)(t.p,{children:"The content of each cell in a grid\u2014assuming that they are not read-only\u2014can be edited programmatically or at runtime by the end user."}),"\n",(0,n.jsxs)(t.p,{children:["How a grid enters edit mode at runtime, is determined by the ",(0,n.jsx)(t.code,{children:"EditTriggers"})," property. By default, the ",(0,n.jsx)(t.code,{children:"EditTriggers"})," property is set to ",(0,n.jsx)(t.code,{children:"EditCommand"}),", ",(0,n.jsx)(t.code,{children:"ClickOnCurrentCell"}),", and ",(0,n.jsx)(t.code,{children:"ActivationGesture"})," meaning that a grid will enter edit mode when the edit command is sent (by default, F2), when the current cell is clicked, or when a key or text input matches one of the activation gestures for current cell's editor (see Example 1). Programmatically, the content of a cell can be edited when the parent row's BeginEdit method is called."]}),"\n",(0,n.jsxs)(t.p,{children:["At runtime, modifications made to the content of a cell can be committed when the focus leaves the row, or discarded when the Escape key is pressed. Programmatically, modifications are committed when the parent row's EndEdit method is called, and discarded when the CancelEdit method is called. In either case, in order for the modifications to be committed, they must pass the validation process (see ",(0,n.jsx)(t.a,{href:"09",children:"Validating Data"}),")."]}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["If a grid is bound to a ",(0,n.jsx)(t.strong,{children:"DataSet"}),", only the in-memory data will be updated when modifications are committed. For information on how to update a DataSet's underlying data source, refer to the ",(0,n.jsx)(t.strong,{children:"DataSet"})," Class topic in the Microsoft Windows SDK."]})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"Cell"})," and ",(0,n.jsx)(t.code,{children:"Row"})," classes expose routed events (see Table 1 in Routed Edit Events) that are triggered during various stages of the edit process and that can be handled by any parent element in the visual tree (bubbling). These events are raised when the ",(0,n.jsx)(t.code,{children:"BeginEdit"}),", ",(0,n.jsx)(t.code,{children:"EndEdit"}),", or ",(0,n.jsx)(t.code,{children:"CancelEdit"})," methods are called, both programmatically and through UI interactions (e.g., pressing ",(0,n.jsx)(t.strong,{children:"ESC"})," key), to provide notifications when a process is about to begin and when it has ended."]}),"\n",(0,n.jsx)(t.h2,{id:"editing-through-the-datagridcollectionview",children:"Editing through the DataGridCollectionView"}),"\n",(0,n.jsxs)(t.p,{children:["Unlike the previously mentioned ",(0,n.jsx)(t.code,{children:"BeginEdit"}),", ",(0,n.jsx)(t.code,{children:"EndEdit"}),", and ",(0,n.jsx)(t.code,{children:"CancelEdit"})," methods, which allow items to be edited the grid, the ",(0,n.jsx)(t.code,{children:"EditItem"}),", ",(0,n.jsx)(t.code,{children:"CommitEdit"}),", and ",(0,n.jsx)(t.code,{children:"CancelEdit"})," methods exposed by the ",(0,n.jsx)(t.code,{children:"DataGridCollectionViewBase"})," class allow items in the underlying data source to be edited directly."]}),"\n",(0,n.jsx)(t.p,{children:"These methods also raise events that allow the edit process to be handled manually."}),"\n",(0,n.jsx)(t.h2,{id:"validation",children:"Validation"}),"\n",(0,n.jsx)(t.p,{children:"Xceed DataGrid for WPF offers data validation support at various levels, including cells, row, and business-objects. How and when data is validated is determined by binding- and UI-level validation rules, which are queried when a cell or row is about to end its edit process, when a cell's content is changed, or when data is loaded into a grid."}),"\n",(0,n.jsxs)(t.p,{children:["When the value of a cell fails the validation process, its ",(0,n.jsx)(t.code,{children:"HasValidationError"})," property will return true and its ",(0,n.jsx)(t.code,{children:"ValidationError"})," property will contain a ",(0,n.jsx)(t.code,{children:"CellValidationError"}),", which provides information on the cell in error, the error content, the exception (if one was thrown), and the validation rule that failed.  If the validation rule that failed is a binding-level ",(0,n.jsx)(t.code,{children:"ValidationRule"}),", it will be wrapped in a ",(0,n.jsx)(t.code,{children:"PassthroughCellValidationRule"}),". Validation errors will also be reported by a row when the value of one or more of its cells fails the validation process. Like cells, when a row contains validation errors, its HasValidationError property will return true and its ",(0,n.jsx)(t.code,{children:"ValidationError"})," property will contain a ",(0,n.jsx)(t.code,{children:"RowValidationError"}),", which provides information on the row in error, the error content, the exception, and the validation rule that failed."]}),"\n",(0,n.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,n.jsx)(t.p,{children:"All examples in this topic assume that the grid is bound to the Orders table of the Northwind database, unless stated otherwise."}),"\n",(0,n.jsx)(t.p,{children:"Example 1: Entering edit when a cell is current"}),"\n",(0,n.jsx)(t.p,{children:"The following example demonstrates how to enter edit mode only when a cell becomes current by setting the EditTriggers property to CellIsCurrent."}),"\n",(0,n.jsx)(i.A,{children:(0,n.jsx)(o.A,{value:"xml",label:"XAML",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",children:'<Grid xmlns:xcdg="http://schemas.xceed.com/wpf/xaml/datagrid">\r\n  <Grid.Resources>\r\n    <xcdg:DataGridCollectionViewSource x:Key="cvs_orders"\r\n                                    Source="{Binding Source={x:Static Application.Current},\r\n                                    Path=Orders}"/>\r\n  </Grid.Resources>\r\n  <xcdg:DataGridControl x:Name="OrdersGrid"\r\n                        ItemsSource="{Binding Source={StaticResource cvs_orders}}"\r\n                        EditTriggers="CellIsCurrent"/>     \r\n</Grid>\n'})})})})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},9365:(e,t,a)=>{a.d(t,{A:()=>o});a(6540);var n=a(4164);const r={tabItem:"tabItem_Ymn6"};var i=a(4848);function o(e){let{children:t,hidden:a,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,o),hidden:a,children:t})}},1470:(e,t,a)=>{a.d(t,{A:()=>j});var n=a(6540),r=a(4164),i=a(3104),o=a(6347),l=a(205),d=a(7485),s=a(1682),c=a(679);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}(a);return function(e){const t=(0,s.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:a}=e;const r=(0,o.W6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,d.aZ)(i),(0,n.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(r.location.search);t.set(i,e),r.replace({...r.location,search:t.toString()})}),[i,r])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,i=h(e),[o,d]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[s,u]=p({queryString:a,groupId:r}),[g,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,c.Dv)(a);return[r,(0,n.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:r}),b=(()=>{const e=s??g;return m({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{b&&d(b)}),[b]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),f(e)}),[u,f,i]),tabValues:i}}var f=a(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=a(4848);function v(e){let{className:t,block:a,selectedValue:n,selectValue:o,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:s}=(0,i.a_)(),c=e=>{const t=e.currentTarget,a=d.indexOf(t),r=l[a].value;r!==n&&(s(t),o(r))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":a},t),children:l.map((e=>{let{value:t,label:a,attributes:i}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>d.push(e),onKeyDown:u,onClick:c,...i,className:(0,r.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":n===t}),children:a??t},t)}))})}function w(e){let{lazy:t,children:a,selectedValue:i}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===i));return e?(0,n.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function y(e){const t=g(e);return(0,x.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,x.jsx)(v,{...t,...e}),(0,x.jsx)(w,{...t,...e})]})}function j(e){const t=(0,f.A)();return(0,x.jsx)(y,{...e,children:u(e.children)},String(t))}},8453:(e,t,a)=>{a.d(t,{R:()=>o,x:()=>l});var n=a(6540);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);