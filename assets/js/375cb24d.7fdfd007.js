"use strict";(self.webpackChunkxceed_doc_ui=self.webpackChunkxceed_doc_ui||[]).push([[7765],{1097:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var a=r(4848),n=r(8453),i=r(1470),l=r(9365);const s={},c="Filtering Data",o={id:"datagrid/manipulating-data/filtering",title:"Filtering Data",description:"The items that are displayed in a view can be limited to one or more filtering criteria using either the native CollectionView filtering or automatic filtering meaning that even if an item exists in the underlying data source, it is not necessarily displayed in the view.",source:"@site/docs/datagrid/manipulating-data/filtering.md",sourceDirName:"datagrid/manipulating-data",slug:"/datagrid/manipulating-data/filtering",permalink:"/xceed-doc-ui/docs/datagrid/manipulating-data/filtering",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Sorting Data",permalink:"/xceed-doc-ui/docs/datagrid/manipulating-data/sorting"},next:{title:"Views and Themes",permalink:"/xceed-doc-ui/docs/datagrid/views-themes/intro"}},u={},d=[{value:"Native CollectionView Filtering",id:"native-collectionview-filtering",level:2},{value:"Custom Distinct Values",id:"custom-distinct-values",level:2},{value:"Examples",id:"examples",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components},{Details:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"filtering-data",children:"Filtering Data"})}),"\n",(0,a.jsxs)(t.p,{children:["The items that are displayed in a view can be limited to one or more filtering criteria using either the native ",(0,a.jsx)(t.code,{children:"CollectionView"})," filtering or automatic filtering meaning that even if an item exists in the underlying data source, it is not necessarily displayed in the view."]}),"\n",(0,a.jsx)(t.h2,{id:"native-collectionview-filtering",children:"Native CollectionView Filtering"}),"\n",(0,a.jsxs)(t.p,{children:["The data items that are displayed in a grid can be filtered using the ",(0,a.jsx)(t.code,{children:"Filter"})," property of the ",(0,a.jsx)(t.code,{children:"DataGridCollectionViewBase"})," or the ",(0,a.jsx)(t.code,{children:"Filter"})," event of the ",(0,a.jsx)(t.code,{children:"DataGridCollectionViewSourceBase"})," to which it is bound (see Example 1)."]}),"\n",(0,a.jsxs)(t.p,{children:["To refilter the data items displayed in a view the ",(0,a.jsx)(t.code,{children:"Refresh"})," method can be called on the ",(0,a.jsx)(t.code,{children:"ItemsSource"}),"."]}),"\n",(0,a.jsxs)(i.A,{children:[(0,a.jsx)(l.A,{value:"csharp",label:"C#",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:"( ( DataGridCollectionView )this.OrdersGrid.ItemsSource ).Refresh();\n"})})}),(0,a.jsx)(l.A,{value:"vbnet",label:"VB.NET",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-vbnet",children:"CType( Me.OrdersGrid.ItemsSource, DataGridCollectionView ).Refresh()\n"})})})]}),"\n",(0,a.jsx)(t.h2,{id:"custom-distinct-values",children:"Custom Distinct Values"}),"\n",(0,a.jsxs)(t.p,{children:["By default, the values that are displayed in the auto-filter drop down represent the distinct values as they are extracted from the underlying data source; however, custom distinct values can be provided for one or more item properties rather than the originally extracted distinct values by handling their ",(0,a.jsx)(t.code,{children:"QueryDistinctValue"})," event and returning the custom value (see Example 3)."]}),"\n",(0,a.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(t.p,{children:["All examples in this topic assume that the grid is bound to the Orders table of the ",(0,a.jsx)(t.strong,{children:"Northwind"})," database, unless stated otherwise."]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example 1: Filtering data items (Filter Event)"}),(0,a.jsxs)(t.p,{children:["The following example demonstrates how to filter the data items displayed in a grid using the ",(0,a.jsx)(t.strong,{children:"Filter"}),' event. Only the data items whose ShipVia property value is "3" will be displayed in the grid.']}),(0,a.jsxs)(i.A,{children:[(0,a.jsx)(l.A,{value:"xml",label:"XAML",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-xml",children:'<Grid xmlns:xcdg="http://schemas.xceed.com/wpf/xaml/datagrid">\r\n  <Grid.Resources>\r\n    <xcdg:DataGridCollectionViewSource x:Key="cvs_orders"\r\n                                      Source="{Binding Source={x:Static Application.Current},\r\n                                                        Path=Orders}"\r\n                                      Filter="ShipViaFilter"/>\r\n  </Grid.Resources>\r\n  <xcdg:DataGridControl x:Name="OrdersGrid"\r\n                        ItemsSource="{Binding Source={StaticResource cvs_orders}}"/>\r\n</Grid>\n'})})}),(0,a.jsx)(l.A,{value:"csharp",label:"C#",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'private void ShipViaFilter( object sender, FilterEventArgs e )\r\n{\r\n  object value = ( ( System.Data.DataRow )e.Item )[ "ShipVia" ]; \r\n  if( ( value != null ) && ( value != DBNull.Value ) )\r\n  {\r\n    if( ( int )value == 3 )\r\n    {\r\n    e.Accepted = true;\r\n    }\r\n    else\r\n    {\r\n    e.Accepted = false;\r\n    }\r\n  }   \r\n}\n'})})}),(0,a.jsx)(l.A,{value:"vbnet",label:"VB.NET",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-vbnet",children:'Private Sub ShipViaFilter( sender As Object, e As FilterEventArgs )\r\n  Dim value As Object = CType( e.Item, System.Data.DataRow )( "ShipVia" )\r\n  If( Not value Is Nothing ) And ( Not value Is DBNull.Value ) Then\r\n    If CInt( value ) = 3 Then\r\n      e.Accepted = True\r\n    Else\r\n      e.Accepted = False\r\n    End If\r\n  End If\r\nEnd Sub\n'})})})]}),(0,a.jsx)(t.p,{children:"The next example demonstrates how to filter data items using the Filter predicate delegate."}),(0,a.jsxs)(i.A,{children:[(0,a.jsx)(l.A,{value:"csharp",label:"C#",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'DataGridCollectionView view = new DataGridCollectionView( Orders );\r\nview.Filter = new Predicate<object>( ShipViaFilter );\r\ndataGridControl.ItemsSource = view;\r\n\r\nprivate bool ShipViaFilter( object item )\r\n{\r\n  object value = ( ( System.Data.DataRow )item )[ "ShipVia" ];\r\n  if( ( value != null ) && ( value != DBNull.Value ) )\r\n  {\r\n    if( ( int )value == 3 )       \r\n      return true;       \r\n  }\r\n  return false;\r\n}\n'})})}),(0,a.jsx)(l.A,{value:"vbnet",label:"VB.NET",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-vbnet",children:'Dim view As New DataGridCollectionView( Orders )\r\n  view.Filter = New Predicate(Of Object)( ShipViaFilter )\r\n  dataGridControl.ItemsSource = view\r\n  Private Function ShipViaFilter( item As Object ) As Boolean\r\n    Dim value As Object = TryCast( item, System.Data.DataRow )( "ShipVia" )\r\n    If( Not value Is Nothing ) And ( value <> DBNull.Value )Then\r\n      If CInt( value ) == 3 Then\r\n        Return True\r\n      End If\r\n    End If\r\n    Return false\r\n  End Function\n'})})})]})]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example 2: Providing custom distinct values"}),(0,a.jsx)(t.p,{children:"The following example demonstrates how to provide custom distinct values that will display the only the month in columns that display DateTime values and that will filter according to a value range for a decimal column."}),(0,a.jsxs)(i.A,{children:[(0,a.jsx)(l.A,{value:"xml",label:"XAML",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-xml",children:'<Grid xmlns:xcdg="http://schemas.xceed.com/wpf/xaml/datagrid">\r\n  <Grid.Resources>\r\n    <xcdg:DataGridCollectionViewSource x:Key="cvs_orders"\r\n                                        Source="{Binding Source={x:Static Application.Current}, Path=Orders}"\r\n                                        AutoFilterMode="And"\r\n                                        DefaultCalculateDistinctValues="False">\r\n        <xcdg:DataGridCollectionViewSource.ItemProperties>\r\n          <xcdg:DataGridItemProperty Name="OrderDate"\r\n                                    QueryDistinctValue="DataGridItemProperty_QueryDistinctValue_Date"\r\n                                    CalculateDistinctValues="True"/>\r\n          <xcdg:DataGridItemProperty Name="RequiredDate"\r\n                                    QueryDistinctValue="DataGridItemProperty_QueryDistinctValue_Date"\r\n                                    CalculateDistinctValues="True" />\r\n          <xcdg:DataGridItemProperty Name="ShippedDate"\r\n                                    QueryDistinctValue="DataGridItemProperty_QueryDistinctValue_Date"\r\n                                    CalculateDistinctValues="True" />\r\n          <xcdg:DataGridItemProperty Name="Freight"\r\n                                    QueryDistinctValue="DataGridItemProperty_QueryDistinctValue_Range"\r\n                                    CalculateDistinctValues="True" />\r\n        </xcdg:DataGridCollectionViewSource.ItemProperties>\r\n    </xcdg:DataGridCollectionViewSource>\r\n  \r\n  </Grid.Resources>\r\n  <xcdg:DataGridControl x:Name="OrdersGrid"\r\n                        ItemsSource="{Binding Source={StaticResource cvs_orders}}"/>\r\n</Grid>\n'})})}),(0,a.jsx)(l.A,{value:"csharp",label:"C#",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'  private void DataGridItemProperty_QueryDistinctValue_Date( object sender, QueryDistinctValueEventArgs e )\r\n  {\r\n  if( e.DataSourceValue is DateTime )\r\n  {\r\n    e.DistinctValue = ( ( DateTime )e.DataSourceValue ).ToString( "MMMM" );\r\n  }\r\n  }\r\n  private void DataGridItemProperty_QueryDistinctValue_Range( object sender, QueryDistinctValueEventArgs e )\r\n  {\r\n  if( e.DataSourceValue is decimal )\r\n  {\r\n    decimal value = ( decimal )e.DataSourceValue;\r\n    if( value <= 100 )\r\n    {\r\n      e.DistinctValue = "0 - 100";\r\n    }\r\n    else if( value > 100 && value <= 500 )\r\n    {\r\n      e.DistinctValue = "101 - 500";\r\n    }\r\n    else\r\n    {\r\n      e.DistinctValue = "500+";\r\n    }\r\n  }\r\n  }\n'})})}),(0,a.jsx)(l.A,{value:"vbnet",label:"VB.NET",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-vbnet",children:'Private Sub DataGridItemProperty_QueryDistinctValue_Date( ByVal sender As Object, ByVal e As QueryDistinctValueEventArgs )\r\n  If TypeOf e.DataSourceValue Is DateTime Then\r\n    e.DistinctValue = CDate( e.DataSourceValue ).ToString( "MMMM" )\r\n  End If\r\nEnd Sub\r\nPrivate Sub DataGridItemProperty_QueryDistinctValue_Range( ByVal sender As Object, ByVal e As QueryDistinctValueEventArgs )\r\n  If TypeOf e.DataSourceValue Is Decimal Then\r\n    Dim value As Decimal = CDec( e.DataSourceValue )\r\n    If value <= 100 Then\r\n      e.DistinctValue = "0 - 100"\r\n    ElseIf( value > 100 And value <= 500 ) Then\r\n      e.DistinctValue = "101 - 500"\r\n    Else\r\n      e.DistinctValue = "500+"\r\n    End If\r\n  End If\r\nEnd Sub\n'})})})]})]})]})}function m(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},9365:(e,t,r)=>{r.d(t,{A:()=>l});r(6540);var a=r(4164);const n={tabItem:"tabItem_Ymn6"};var i=r(4848);function l(e){let{children:t,hidden:r,className:l}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(n.tabItem,l),hidden:r,children:t})}},1470:(e,t,r)=>{r.d(t,{A:()=>y});var a=r(6540),n=r(4164),i=r(3104),l=r(6347),s=r(205),c=r(7485),o=r(1682),u=r(679);function d(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:r}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:r,attributes:a,default:n}}=e;return{value:t,label:r,attributes:a,default:n}}))}(r);return function(e){const t=(0,o.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function m(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:r}=e;const n=(0,l.W6)(),i=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,c.aZ)(i),(0,a.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function v(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,i=h(e),[l,c]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=r.find((e=>e.default))??r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[o,d]=p({queryString:r,groupId:n}),[v,g]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,u.Dv)(r);return[n,(0,a.useCallback)((e=>{r&&i.set(e)}),[r,i])]}({groupId:n}),f=(()=>{const e=o??v;return m({value:e,tabValues:i})?e:null})();(0,s.A)((()=>{f&&c(f)}),[f]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),g(e)}),[d,g,i]),tabValues:i}}var g=r(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=r(4848);function b(e){let{className:t,block:r,selectedValue:a,selectValue:l,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),u=e=>{const t=e.currentTarget,r=c.indexOf(t),n=s[r].value;n!==a&&(o(t),l(n))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=c.indexOf(e.currentTarget)+1;t=c[r]??c[0];break}case"ArrowLeft":{const r=c.indexOf(e.currentTarget)-1;t=c[r]??c[c.length-1];break}}t?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":r},t),children:s.map((e=>{let{value:t,label:r,attributes:i}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>c.push(e),onKeyDown:d,onClick:u,...i,className:(0,n.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":a===t}),children:r??t},t)}))})}function D(e){let{lazy:t,children:r,selectedValue:i}=e;const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===i));return e?(0,a.cloneElement)(e,{className:(0,n.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function V(e){const t=v(e);return(0,x.jsxs)("div",{className:(0,n.A)("tabs-container",f.tabList),children:[(0,x.jsx)(b,{...t,...e}),(0,x.jsx)(D,{...t,...e})]})}function y(e){const t=(0,g.A)();return(0,x.jsx)(V,{...e,children:d(e.children)},String(t))}},8453:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>s});var a=r(6540);const n={},i=a.createContext(n);function l(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);